{"ast":null,"code":"var _jsxFileName = \"/home/jakob/Dokumente/2_uni/sem6/ebusiness/pvsSURL/pvsSURL/pvssurl/src/components/MainContent.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Anchor, Box, Button, CheckBox, Collapsible, Heading, Select, Text, TextInput, Form } from 'grommet';\nimport { Code, Configure, Edit, Secure, Tag } from 'grommet-icons';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst MainContent = props => {\n  _s();\n\n  const domain = 'http://localhost:5000';\n  const [showSettings, setShowSettings] = useState(false);\n  const [showCustomURL, setShowCustomURL] = useState(false);\n  const [isPrivate, setIsPrivate] = useState(false);\n  const [showMaxReferences, setShowMaxReferences] = useState(false);\n  const [showRandomizer, setShowRandomizer] = useState(false);\n  const [CustomURL, setCustomURL] = useState('');\n  const [MaxReferences, setMaxReferences] = useState(-1);\n  const [Randomizer, setRandomizer] = useState(1);\n  const [URLInput, setURLInput] = useState('');\n  const [myURL, setURL] = useState('');\n  const [showResult, setShowResult] = useState(false);\n  const [message, setMessage] = useState(\"\");\n  const [createdUrl, setCreatedUrl] = useState(`${domain}`);\n  const randomOptions = [{\n    label: 'Default',\n    value: 1\n  }, {\n    label: 'Uppercase',\n    value: 2\n  }, {\n    label: 'Lowercase',\n    value: 3\n  }, {\n    label: 'Numbers',\n    value: 4\n  }];\n  useEffect(() => {\n    createShortUrl();\n  }, [myURL]);\n\n  const createShortUrl = async () => {\n    var base = `${domain}/api/create?url=${myURL}`;\n\n    if (showCustomURL) {\n      base = base + `&custom=${CustomURL}`;\n    }\n\n    if (isPrivate) {\n      base = base + \"&private=1\";\n    }\n\n    if (showMaxReferences) {\n      base = base + `&refs_available=${MaxReferences}`;\n    }\n\n    if (showRandomizer) {\n      base = base + `&random_method=${Randomizer.value}`;\n    } else {\n      base = base + `&random_method=1`;\n    }\n\n    if (myURL.length > 4) {\n      try {\n        const response = await fetch(base, {\n          method: 'GET',\n          mode: 'cors',\n          cache: 'no-cache',\n          credentials: 'same-origin',\n          redirect: 'follow',\n          // manual, *follow, error\n          referrerPolicy: 'no-referrer' // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\n\n        });\n        const dataUrl = await response.json();\n        setMessage(dataUrl.message);\n\n        if (dataUrl.hasOwnProperty('url')) {\n          setCreatedUrl(dataUrl.url);\n        }\n      } catch (error) {\n        setMessage(\"Error connecting to Backend\");\n      }\n    }\n\n    console.log(Randomizer);\n  };\n\n  const updateURL = e => {\n    setURLInput(e.target.value);\n  };\n\n  const updateMaxRef = e => {\n    setMaxReferences(e.target.value);\n  };\n\n  const updateCustomURL = e => {\n    setCustomURL(e.target.value);\n  };\n\n  const getURL = e => {\n    e.preventDefault();\n    setURL(URLInput);\n    setShowResult(true);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Box, {\n    flex: true,\n    align: \"center\",\n    justify: \"center\",\n    gap: \"medium\",\n    children: [/*#__PURE__*/_jsxDEV(Heading, {\n      level: \"1\",\n      children: \"PerVerSo Shorter URLs\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      direction: \"row\",\n      gap: \"small\",\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        icon: /*#__PURE__*/_jsxDEV(Configure, {\n          color: \"lightgrey\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 13\n        }, this),\n        color: \"brand\",\n        size: \"small\",\n        onClick: () => {\n          setShowSettings(!showSettings);\n          setShowCustomURL(false);\n          setIsPrivate(false);\n          setShowMaxReferences(false);\n          setShowRandomizer(false);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        width: \"large\",\n        direction: \"row\",\n        align: \"center\",\n        pad: {\n          horizontal: 'small',\n          vertical: 'xsmall'\n        },\n        round: \"small\",\n        border: {\n          side: 'all',\n          color: 'brand'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Code, {\n          color: \"brand\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(TextInput, {\n          plain: true,\n          placeholder: \"Enter your URL...\",\n          onChange: updateURL\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: getURL,\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          label: \"Shorten\",\n          color: \"brand\",\n          type: \"submit\",\n          fill: \"true\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Collapsible, {\n      direction: \"vertical\",\n      open: showResult,\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        width: \"large\",\n        children: (() => {\n          if (createdUrl.length > 0) {\n            return /*#__PURE__*/_jsxDEV(Text, {\n              size: \"medium\",\n              color: \"brand\",\n              children: [\"Your URL \", /*#__PURE__*/_jsxDEV(Anchor, {\n                href: createdUrl,\n                label: createdUrl,\n                color: \"brand\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 58\n              }, this), \" was created\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 15\n            }, this);\n          } else {\n            return /*#__PURE__*/_jsxDEV(Text, {\n              size: \"medium\",\n              color: \"test\",\n              children: message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 15\n            }, this);\n          }\n        })()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Collapsible, {\n      direction: \"vertical\",\n      open: showSettings,\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        flex: true,\n        direction: \"column\",\n        align: \"center\",\n        justify: \"center\",\n        gap: \"medium\",\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          width: \"large\",\n          direction: \"row\",\n          align: \"center\",\n          gap: \"medium\",\n          children: [/*#__PURE__*/_jsxDEV(CheckBox, {\n            toggle: true,\n            label: \"Custom tag\",\n            onClick: () => setShowCustomURL(!showCustomURL)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Collapsible, {\n            direction: \"horizontal\",\n            open: showCustomURL,\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              width: \"large\",\n              direction: \"row\",\n              justify: \"end\",\n              children: /*#__PURE__*/_jsxDEV(Box, {\n                width: \"medium\",\n                direction: \"row\",\n                align: \"center\",\n                justify: \"end\",\n                pad: {\n                  horizontal: 'small',\n                  vertical: 'xsmall'\n                },\n                round: \"small\",\n                border: {\n                  side: 'all',\n                  color: 'brand'\n                },\n                children: [/*#__PURE__*/_jsxDEV(Tag, {\n                  color: \"brand\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 217,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(TextInput, {\n                  plain: true,\n                  placeholder: \"Enter custom tag...\",\n                  onChange: updateCustomURL\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 218,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          width: \"large\",\n          direction: \"row\",\n          align: \"center\",\n          gap: \"medium\",\n          children: [/*#__PURE__*/_jsxDEV(CheckBox, {\n            toggle: true,\n            label: \"Set max. references\",\n            onClick: () => setShowMaxReferences(!showMaxReferences)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Collapsible, {\n            direction: \"horizontal\",\n            open: showMaxReferences,\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              width: \"large\",\n              direction: \"row\",\n              justify: \"end\",\n              children: /*#__PURE__*/_jsxDEV(Box, {\n                width: \"medium\",\n                direction: \"row\",\n                align: \"center\",\n                justify: \"end\",\n                pad: {\n                  horizontal: 'small',\n                  vertical: 'xsmall'\n                },\n                round: \"small\",\n                border: {\n                  side: 'all',\n                  color: 'brand'\n                },\n                children: [/*#__PURE__*/_jsxDEV(Edit, {\n                  color: \"brand\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 252,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(TextInput, {\n                  plain: true,\n                  placeholder: \"Enter max. References...\",\n                  onChange: updateMaxRef\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 253,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          width: \"large\",\n          direction: \"row\",\n          align: \"start\",\n          gap: \"small\",\n          children: [/*#__PURE__*/_jsxDEV(CheckBox, {\n            toggle: true,\n            label: \"Is private\",\n            onClick: () => setIsPrivate(!isPrivate)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Collapsible, {\n            direction: \"horizontal\",\n            open: isPrivate,\n            children: /*#__PURE__*/_jsxDEV(Secure, {\n              color: \"brand\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          width: \"large\",\n          direction: \"row\",\n          align: \"center\",\n          gap: \"medium\",\n          children: [/*#__PURE__*/_jsxDEV(CheckBox, {\n            toggle: true,\n            label: \"Special randomizer\",\n            onClick: () => setShowRandomizer(!showRandomizer)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Collapsible, {\n            direction: \"horizontal\",\n            open: showRandomizer,\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              width: \"large\",\n              direction: \"row\",\n              justify: \"end\",\n              children: /*#__PURE__*/_jsxDEV(Box, {\n                width: \"medium\",\n                direction: \"row\",\n                align: \"center\",\n                justify: \"start\",\n                pad: {\n                  horizontal: 'small',\n                  vertical: 'xsmall'\n                },\n                round: \"small\",\n                border: {\n                  side: 'all',\n                  color: 'brand'\n                },\n                children: [/*#__PURE__*/_jsxDEV(Tag, {\n                  color: \"brand\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 302,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(Select, {\n                  placeholder: \"Select randomizer...\",\n                  options: randomOptions,\n                  labelKey: \"label\",\n                  valueKey: \"value\",\n                  onChange: ({\n                    option\n                  }) => setRandomizer(option),\n                  size: \"small\",\n                  dropHeight: \"small\",\n                  plain: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 112,\n    columnNumber: 3\n  }, this);\n};\n\n_s(MainContent, \"dBeTB+MOguMpkhc6uHExF3v4hmA=\");\n\n_c = MainContent;\nexport default MainContent;\n\nvar _c;\n\n$RefreshReg$(_c, \"MainContent\");","map":{"version":3,"sources":["/home/jakob/Dokumente/2_uni/sem6/ebusiness/pvsSURL/pvsSURL/pvssurl/src/components/MainContent.js"],"names":["React","useEffect","useState","Anchor","Box","Button","CheckBox","Collapsible","Heading","Select","Text","TextInput","Form","Code","Configure","Edit","Secure","Tag","MainContent","props","domain","showSettings","setShowSettings","showCustomURL","setShowCustomURL","isPrivate","setIsPrivate","showMaxReferences","setShowMaxReferences","showRandomizer","setShowRandomizer","CustomURL","setCustomURL","MaxReferences","setMaxReferences","Randomizer","setRandomizer","URLInput","setURLInput","myURL","setURL","showResult","setShowResult","message","setMessage","createdUrl","setCreatedUrl","randomOptions","label","value","createShortUrl","base","length","response","fetch","method","mode","cache","credentials","redirect","referrerPolicy","dataUrl","json","hasOwnProperty","url","error","console","log","updateURL","e","target","updateMaxRef","updateCustomURL","getURL","preventDefault","horizontal","vertical","side","color","option"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { \n  Anchor,\n  Box, \n  Button,\n  CheckBox, \n  Collapsible,\n  Heading, \n  Select,\n  Text,\n  TextInput,\n  Form\n} from 'grommet';\nimport { \n  Code, \n  Configure,\n  Edit,\n  Secure,\n  Tag \n} from 'grommet-icons';\n\n\nconst MainContent = props => {\n  const domain = 'http://localhost:5000'\n\n  const [showSettings, setShowSettings] = useState(false);\n  const [showCustomURL, setShowCustomURL] = useState(false);\n  const [isPrivate, setIsPrivate] = useState(false);\n  const [showMaxReferences, setShowMaxReferences] = useState(false);\n  const [showRandomizer, setShowRandomizer] = useState(false);\n  const [CustomURL, setCustomURL] = useState('');\n  const [MaxReferences, setMaxReferences] = useState(-1);\n  const [Randomizer, setRandomizer] = useState(1);\n\n  const [URLInput, setURLInput] = useState('');\n  const [myURL, setURL] = useState('');\n\n\n  const [showResult, setShowResult] = useState(false);\n  const [message, setMessage] = useState(\"\");\n\n  const [createdUrl, setCreatedUrl] = useState(`${domain}`);\n\n  const randomOptions = [\n    { label: 'Default', value: 1 },\n    { label: 'Uppercase', value: 2 },\n    { label: 'Lowercase', value: 3 },\n    { label: 'Numbers', value: 4 },\n  ];\n\n  useEffect(() => {\n    createShortUrl();\n  }, [myURL]);\n\n  const createShortUrl = async () => {\n    var base = `${domain}/api/create?url=${myURL}`;\n    if(showCustomURL){\n      base= base + `&custom=${CustomURL}`;\n    }\n    if(isPrivate){\n      base= base + \"&private=1\";\n    }\n    if(showMaxReferences){\n      base=base + `&refs_available=${MaxReferences}`;\n    }\n    if(showRandomizer){\n      base=base + `&random_method=${Randomizer.value}`;\n    }else{\n      base=base + `&random_method=1`;\n    }\n    if(myURL.length>4){\n    try{\n      const response = await fetch(base, {method: 'GET',\n          mode: 'cors',\n          cache: 'no-cache',\n          credentials: 'same-origin',\n          redirect: 'follow', // manual, *follow, error\n          referrerPolicy: 'no-referrer', // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\n        });\n      const dataUrl = await response.json();\n      setMessage(dataUrl.message);\n      if(dataUrl.hasOwnProperty('url')){\n        setCreatedUrl(dataUrl.url);\n      }\n    } catch(error){\n      setMessage(\"Error connecting to Backend\")\n    }\n    \n    }\n    console.log(Randomizer);\n  };\n\n  \n\n  const updateURL = e => {\n    setURLInput(e.target.value);\n  };\n  const updateMaxRef = e => {\n    setMaxReferences(e.target.value);\n  };\n  const updateCustomURL = e => {\n    setCustomURL(e.target.value);\n  };\n  \n  const getURL = e => {\n    e.preventDefault();\n    setURL(URLInput);\n    setShowResult(true);\n  };\n\n  return(\n  <Box\n  flex\n  align='center'\n  justify='center'\n  gap='medium'\n  >\n    \n    <Heading level='1'>PerVerSo Shorter URLs</Heading>\n    <Box direction='row' gap='small'>\n\n    <Button \n      icon={<Configure color='lightgrey'/>}\n      color='brand'\n      size='small'\n      onClick={() => {setShowSettings(!showSettings);\n      setShowCustomURL(false);\n      setIsPrivate(false);\n      setShowMaxReferences(false);\n      setShowRandomizer(false);\n      }}\n    />\n    \n    <Box\n      width=\"large\"\n      direction=\"row\"\n      align=\"center\"\n      pad={{ horizontal: 'small', vertical: 'xsmall' }}\n      round=\"small\"\n      border={{\n        side: 'all',\n        color: 'brand',\n      }}\n    >\n      <Code color='brand'/>\n      <TextInput \n      plain\n      placeholder='Enter your URL...'\n      onChange={updateURL}\n      /> \n    </Box>\n\n      <Form onSubmit={getURL}>\n        <Button\n          label='Shorten'\n          color='brand'\n          type='submit'\n          fill='true'\n        />\n      </Form>\n      \n    </Box>\n\n    <Collapsible direction='vertical' open={showResult}>\n      <Box\n      width='large'\n      >\n        \n        {(() => {\n          if (createdUrl.length>0) {\n            return (\n              <Text size='medium' color='brand'>Your URL <Anchor href={createdUrl} label={createdUrl} color='brand'/> was created</Text>\n            )\n          } else {\n            return (\n              <Text size='medium' color='test'>{message}</Text>\n            )\n          } \n          })()}\n        \n      </Box>\n    </Collapsible>\n\n    <Collapsible direction='vertical' open={showSettings}>\n      <Box\n      flex\n      direction='column'\n      align='center'\n      justify='center'\n      gap='medium'\n      >\n        <Box\n          width=\"large\"\n          direction=\"row\"\n          align=\"center\"\n          gap='medium'\n        >\n          <CheckBox\n            toggle\n            label='Custom tag'\n            onClick={() => setShowCustomURL(!showCustomURL)}\n          />\n          <Collapsible direction='horizontal' open={showCustomURL}>\n            <Box width='large' direction='row' justify='end'>\n              <Box\n                width=\"medium\"\n                direction=\"row\"\n                align=\"center\"\n                justify='end'\n                pad={{ horizontal: 'small', vertical: 'xsmall' }}\n                round=\"small\"\n                border={{\n                  side: 'all',\n                  color: 'brand',\n                }}\n              >\n                <Tag color='brand'/>\n                <TextInput \n                plain\n                placeholder='Enter custom tag...'\n                onChange={updateCustomURL}\n                /> \n              </Box>\n            </Box>\n          </Collapsible>\n        </Box>\n        <Box\n          width=\"large\"\n          direction=\"row\"\n          align=\"center\"\n          gap='medium'\n        >\n          <CheckBox\n            toggle\n            label='Set max. references'\n            onClick={() => setShowMaxReferences(!showMaxReferences)}\n          />\n          <Collapsible direction='horizontal' open={showMaxReferences}>\n            <Box width='large' direction='row' justify='end'>\n              <Box\n                width=\"medium\"\n                direction=\"row\"\n                align=\"center\"\n                justify='end'\n                pad={{ horizontal: 'small', vertical: 'xsmall' }}\n                round=\"small\"\n                border={{\n                  side: 'all',\n                  color: 'brand',\n                }}\n              >\n                <Edit color='brand'/>\n                <TextInput \n                plain\n                placeholder='Enter max. References...'\n                onChange={updateMaxRef}\n                /> \n              </Box>\n            </Box>\n          </Collapsible>\n        </Box>\n        <Box\n          width=\"large\"\n          direction=\"row\"\n          align=\"start\"\n          gap='small'\n        >\n          <CheckBox\n            toggle\n            label='Is private'\n            onClick={() => setIsPrivate(!isPrivate)}\n          />\n          <Collapsible direction='horizontal' open={isPrivate}>\n            <Secure color='brand'/>\n          </Collapsible>\n        </Box>\n        <Box\n          width=\"large\"\n          direction=\"row\"\n          align=\"center\"\n          gap='medium'\n        >\n          <CheckBox\n            toggle\n            label='Special randomizer'\n            onClick={() => setShowRandomizer(!showRandomizer)}\n          />\n          <Collapsible direction='horizontal' open={showRandomizer}>\n            <Box width='large' direction='row' justify='end'>\n              <Box\n                width=\"medium\"\n                direction=\"row\"\n                align=\"center\"\n                justify='start'\n                pad={{ horizontal: 'small', vertical: 'xsmall' }}\n                round=\"small\"\n                border={{\n                  side: 'all',\n                  color: 'brand',\n                }}\n              >\n                <Tag color='brand'/>\n                <Select \n                placeholder='Select randomizer...'\n                options={randomOptions}\n                labelKey=\"label\"\n                valueKey=\"value\"\n                onChange={({ option }) => setRandomizer(option)}\n                size='small'\n                dropHeight='small'\n                plain\n                />\n              </Box>\n            </Box>\n          </Collapsible>\n        </Box>\n      \n      </Box>\n    </Collapsible>\n\n  </Box>\n  );\n}\n\nexport default MainContent;"]},"metadata":{},"sourceType":"module"}